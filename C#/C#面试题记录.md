# C# 面试题记录

1. 请简述值类型与引用类型的区别

    1. 值类型存储在内存栈中，引用类型数据存储在内存堆中，而内存单元中存放的是堆中存放的地址
    1. 值类型存取快，引用类型存取慢
    1. 值类型表示实际数据，引用类型表示指向存储在内存堆中的数据的指针和引用
    1. 栈的内存是自动释放的，堆内存是.NET中会由GC来自动释放
    1. 值类型继承自System.ValueType,引用类型继承自System.Object

1. equals?

    - == 是比较栈里的值是否相等（值比较）
    - Equals 是比较堆里的值是否相等（引用地址比较）
    - Object.ReferenceEquals 是比较分配的地址是否相等

1. using 关键字

    using 引入名称空间或者使用非托管资源，使用完对象后自动执行实现了IDisposable接口的类的Dispose方法

1. new 关键字

    新建实例或者隐藏父类方法

1. C# 多态性

    多态：一个接口多个功能\
    静态多态性: 函数的响应在编译时发生
    - 函数重载: 在同一范围内对相同函数名有多个定义，可以是参数类型或参数个数的不同，但不许只有返回值类型不同
    - 运算符重载

    动态多态性中: 函数的响应在运行时发生的
    - 函数重写

1. 什么是虚函数？什么是抽象函数？

    - 使用关键字 virtual 声明的函数为虚函数
    - 使用关键字 abstract 声明的函数为抽象函数
    - virtual修饰的方法必须有实现（哪怕是仅仅添加一对大括号),而abstract修饰的方法一定不能实现
    - virtual可以被子类重写，而abstract必须被子类重写
    - 如果类成员被abstract修饰，则该类前必须添加abstract，因为只有抽象类才可以有抽象方法
    - 无法创建abstract类的实例，只能被继承无法实例化

1. HashMap和Hashtable的区别

    - Hashtable继承自Dictionary类，而HashMap继承自AbstractMap类。但二者都实现了Map接口
    - HashTable的方法是同步的，HashMap未经同步
    - HashTable不允许null值(key和value都不可以),HashMap允许null值(key和value都可以)
    - 哈希值的使用不同，HashTable直接使用对象的hashCode。而HashMap重新计算hash值

1. 请简述ArrayList和List的主要区别

    - ArrayList是非泛型列表，存储数据时把所有的数据都当成object类型存储
    - ArrayList存在不安全类型,装箱拆箱的操作费时
    - List是泛型列表，在使用的时候才去定义数据类型，泛型避免了拆箱装箱的问题，存入读取速度较快，类型也更安全
    - List是接口，ArrayList是一个实现了该接口的类，可以被实例化

1. 请简述GC（垃圾回收）产生的原因，并描述如何避免

    GC回收堆上的内存\
    避免:
    1. 减少new产生对象的次数
    1. 使用公用的对象（静态成员）
    1. 如果字符串拼接多的将String换为StringBuilder

1. 请描述Interface与抽象类之间的不同

    - 抽象类中可以有字段，接口没有
    - 抽象类中可以有方法的实现，接口中只有方法的定义
    - 抽象类中所有成员修饰符都可以使用，接口中所有的成员都是对外的，所以不需要修饰符修饰
    - 抽象类是概念的抽象，接口关注于行为
    - 抽象类的子类与父类的关系是泛化关系，耦合度较高，而实现类和接口之间是实现的关系，耦合度比泛化低
    - 一个类只能继承一个类，但是可以实现多个接口

1. 请简述关键字Sealed用在类声明和函数声明时的作用

    - Sealed访问修饰符用于类时，该类是密封类，可防止其他类继承此类
    - 在方法中使用时则可防止派生类重写此方法

1. 请简述private，public，protected，internal的区别

    - public：对任何类和成员都公开，无限制访问
    - private：仅对该类公开
    - protected：对该类和其派生类公开
    - internal：只能在包含该类的程序集中访问该类
    - protected internal：protected + internal

1. 反射的实现原理

    - 审查元数据并收集关于它的类型信息的能力。元数据（编译以后的最基本数据单元）就是一大堆的表，当编译程序集或者模块时，编译器会创建一个类定义表，一个字段定义表，和一个方法定义表等
    - System.reflection命名空间包含的几个类，允许你反射（解析）这些元数据表的代码
    - 动态的创建类型的实例,将类型邦定到现有对象，或从现有对象中获取类型

1. .Net与Mono的关系

    - mono是.net的一个开源跨平台工具，就类似java虚拟机
    - .net只能在windows下运行，mono可以实现跨平台跑

1. 结构体和类有何区别？

    - 结构体是一种值类型，而类是引用类型
    - 结构不支持继承
    - 结构不能声明默认的构造函数

1. 简述StringBuilder和String的区别

    - string是字符串常量，StringBuilder是字符串变量
    - string分配在栈区，StringBuilder分配在堆区
    - string类型是个不可变的对象，当每次对String进行改变时都需要生成一个新的String对象，然后将指针指向一个新的对象
    - StringBuilder对象在做字符串连接操作时是在原来的字符串上进行修改，改善了性能

1. ref参数和out参数是什么？有什么区别？

    - ref和out参数的效果一样，都是通过关键字找到定义在主函数里面的变量的内存地址，并通过方法体内的语法改变它的大小(使参数按引用传递)
    - ref 要求变量必须在传递之前进行初始化

1. C#的委托是什么？有何用处？

    - 委托（Delegate） 是存有对某个方法的引用的一种引用类型变量。引用可在运行时被改变
    - 委托（Delegate）特别用于实现事件和回调方法
    - 委托是面向对象，而且是类型安全的

1. C#事件？

    - 事件在类中声明且生成，且通过使用同一个类或其他类中的委托与事件处理程序关联
    - 事件使用 发布-订阅（publisher-subscriber） 模型
    - 发布器（publisher） 是一个包含事件和委托定义的对象。事件和委托之间的联系也定义在这个对象中。发布器（publisher）类的对象调用这个事件，并通知其他的对象
    - 订阅器（subscriber） 是一个接受事件并提供事件处理程序的对象。在发布器（publisher）类中的委托调用订阅器（subscriber）类中的方法（事件处理程序）

1. C# yield

    如果你在语句中使用 yield 关键字，则意味着它在其中出现的方法、运算符或 get 访问器是迭代器。 通过使用 yield 定义迭代器，可在实现自定义集合类型的 IEnumerable 和 IEnumerator 模式时无需其他显式类